<html>
    <head>
        <title>자바 스크립트 함수 1</title>
        <style>
            p{
                width: 200px;
                height: 100px;
                border: 10px ridge magenta;
                background: cyan;
            }
        </style>
    </head>
    <body>
        <h1>자바 스크립트 함수 1</h1>
        <h3>function 함수명 () { . . . }</h3>
        <button onclick="test1();">실행 확인</button>
        <p id="p1"></p>
        <script>
            function test1(){
                document.getElementById("p1").innerHTML="test1() 함수 실행 확인";
            }
        </script>

        <h3>즉석 실행 함수 : (function(){})();</h3>
        <p id="p2"></p>
        <script>
            (function(){
                document.getElementById("p2").innerHTML="즉석 실행 함수 확인";
            })();
        </script>

        <h3>익명함수 : 함수명=function(){ . . . }</h3>
        <pre>이벤트를 제어하는 이벤트핸들러 작성 시 많이 사용한다</pre>
        <button onclick="test2();">실행 확인</button>
        <p id="p3"></p>
        <script>
            // var test2=function(){
            //     document.getElementById("p3").innerHTML="익명 함수 실행 확인";
            // };

            // 축약형
            var test2=()=>{
                document.getElementById("p3").innerHTML="익명 함수 실행 확인";
            };
        </script>

        <hr>
        <h1>함수의 전달인자와 매개변수</h1>
        <h3>기본적인 전달 인자와 매개 변수</h3>
        <button id="btn1">실행 확인</button>
        <p id="p4"></p>
        <script>
            document.getElementById("btn1").onclick=function(){
                var result=window.prompt("메세지를 입력하세요.");
                test4(result);
            };
            function test4(value){
                document.getElementById("p4").innerHTML+=value+"<br>";
            }
        </script>

        <h3>전달인자와 매개 변수가 다른 경우</h3>
        <button id="btn2">실행 확인</button>
        <p id="p5"></p>
        <script>
            document.getElementById("btn2").onclick=function(){

                // 주어진 매개 변수보다 전달하는 인자가 많은 경우 초과한 매개 변수는 무시한다
                test5("졸리다","피곤하다");

                // 주어진 매개 변수보다 전달하는 인자가 적은 경우 indefined
                // test5();
            };
            function test5(value){
                document.getElementById("p5").innerHTML+=value+"<br>";
            };
        </script>

        <h3>함수의 결과 반환(return) 처리</h3>
        <button onclick="test6();">실행 확인</button>
        <p id="p6"></p>
        <script>
            function sumTwoNumber(num1, num2){
                return num1+num2;
            }
            function test6(){
                p6.innerHTML+=sumTwoNumber(10,20)+"<br>";
                p6.innerHTML+=sumTwoNumber(20,30)+"<br>";
                p6.innerHTML+=sumTwoNumber(50,-10)+"<br>";

                // return으로 함수의 결과를 반환할 경우 해당 결과가 특정 변수나 값으로 저장되어야 한다
                // 즉 결과를 담아줄 공간이 필요함
            }
        </script>

        <h3>가변인자 함수</h3>
        <button onclick="test7();">실행 확인</button>
        <p id="p7"></p>
        <script>
            function test7(){
                // 전달 값의 개수가 다를 떄
                sumAll(1, 2, 3, 4, 5);
                sumAll(10, 20, 30, 40, 50, 60, 70, 80, 90, 100);
            }
            function sumAll(){
                // 인자 수에 상관 없이 전부 더해주는 함수
                
                console.log("arguments의 길이 : "+arguments.length);
                console.log("arguments : "+arguments);
                console.log("arguments의 타입 : "+typeof(arguments));

                // sumAll 함수는 전달받은 모든 수를 더하는 함수
                var sum=0;

                for(var i=0;i<arguments.length;i++){
                    sum+=arguments[i];
                }

                p7.innerHTML+="수행 결과 : "+sum+"<br>"
            }
        </script>

        <hr>

        <h3>내부 함수 중첩 사용</h3>
        삼각형 밑변 : <input type="number" min="1" max="10" id="width" required>
        <br>
        삼각형 높이 : <input type="number" min="1" max="10" id="height" required>
        <br>
        <button onclick="test8();">실행 확인</button>
        <p id="p8"></p>
        <script>
            function logic(w, h){
                // 함수 안의 함수
                function pow(x){
                    console.log("내부함수 실행");
                    return x*x;
                }
                return Math.sqrt(pow(w)+pow(h));
            }
            function test8(){
                var w=document.getElementById("width").value;
                var h=document.getElementById("height").value;
                p8.innerHTML+="빗변 길이 : "+logic(w,h)+"<br>";
            }
        </script>
        <br><br>
        <input type="text" id="check1">
        <input type="text" id="check2" value="안녕하시오">
        <script>
            console.log(check1);
            console.log(check1.value);
            console.log(check2);
            console.log(check2.value);
        </script>

        <h3>재귀 함수</h3>
        <h4>자기 자신을 호출하는 함수</h4>
        <pre>!5=>5*4*3*2*1</pre>

        <input type="number" id="fac" min="1" max="10">
        <button onclick="test9();">실행 확인</button>
        <p id="p9"></p>
        <script>
            function test9(){
                var num=fac.value;
                p9.innerHTML+= factorial(num)+"<br>";
            }
            
            // for문을 통한 반복 기법
            // function factorial(num){
            //     for(var i=num-1;i>0;i--){
            //         num*=i;
            //     }
            //     return num;
            // }

            //재귀함수를 통한 반복 기법
            function factorial(num){
                if(num!=1){
                    return num*factorial(num-1);
                }else{
                    return num;
                }
            }
        </script>
    </body>
</html>